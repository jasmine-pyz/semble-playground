(base) jasminezou@Jasmines-MacBook-Pro semble-test % tsx semblePDSScript.tsx

============================================================
  SEMBLE PDS CLIENT - TEST SCRIPT
============================================================
ACTION Establishing connection to SemblePDS...
ACTION Logging in...
(node:9373) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
SUCCESS!  Successfully logged in!

============================================================
  SECTION 1: CREATE CARDS
============================================================
ACTION Creating URL card...
SUCCESS!  Created URL card
INFO  Card details: {
  urlCard: {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37nhku2n',
    cid: 'bafyreic7swpkiio7dufsqfayzlqolzqmn7fhwdgapffynrsb65yon3kaj4'
  },
  noteCard: {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37ryzk2n',
    cid: 'bafyreieotmnmti3wf6uegbzdgelvdtmcja4nmkosewumcftgtwuzarellm'
  }
}
ACTION Adding note to existing card...
SUCCESS!  Added note to card
Added note {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37twfh2s',
  cid: 'bafyreibahvqt4kplnpigssvbtogsumtwnr7be2f4mduxsyawkvpyvoeksy'
} to ulr card: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37nhku2n',
  cid: 'bafyreic7swpkiio7dufsqfayzlqolzqmn7fhwdgapffynrsb65yon3kaj4'
}
ACTION Updating note...
Update noteCard:  {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37twfh2s',
  cid: 'bafyreibahvqt4kplnpigssvbtogsumtwnr7be2f4mduxsyawkvpyvoeksy'
}
INFO  Current note card record: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37ryzk2n',
  cid: 'bafyreieotmnmti3wf6uegbzdgelvdtmcja4nmkosewumcftgtwuzarellm',
  value: {
    url: 'https://blog.bront.rodeo/setting-up-your-own-pds/',
    type: 'NOTE',
    '$type': 'network.cosmik.dev.card',
    content: {
      text: 'guide: how to set up your own pds',
      '$type': 'network.cosmik.dev.card#noteContent'
    },
    createdAt: '2026-02-08T01:33:27.816Z',
    parentCard: {
      cid: 'bafyreic7swpkiio7dufsqfayzlqolzqmn7fhwdgapffynrsb65yon3kaj4',
      uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37nhku2n'
    }
  }
}

============================================================
  SECTION 2: CREATE & MANAGE COLLECTIONS
============================================================
ACTION Creating atproto collection...
Created atproto collection: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs37zmda2f',
  cid: 'bafyreicfryekpaxjec2mcxaa2r5efuosojg2itbsrzskjycrrgfcabyvg4'
}
SUCCESS!  Card added to collection
INFO  Collection link: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collectionLink/3mecs3a3jt22b',
  cid: 'bafyreifq54eqrrvksihk47bvpqqwemp7tg6wt755lrmdqry7ckmpbg7s44'
}
ACTION Creating gardening collection...
SUCCESS!  Created gardening collection
INFO  collection details: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3a5gcm2n',
  cid: 'bafyreiaxnceljnehm4umqlsalwq2ustpuikknhio555eogyxm3wy2iyeli'
}
ACTION Updating gardening collection...
Updated garden collection with new name and description
INFO  Updated collection record: {
  uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3a5gcm2n',
  cid: 'bafyreibqvyz6q44cpd66aekpwho44pmlbg64vc77spsrbiafctkzkis6ly',
  value: {
    name: 'Gardening',
    '$type': 'network.cosmik.dev.collection',
    createdAt: '2026-02-08T01:33:28.345Z',
    updatedAt: '2026-02-08T01:33:28.345Z',
    accessType: 'CLOSED',
    description: 'Research for backyard garden in Canada',
    collaborators: []
  }
}

============================================================
  SECTION 3: BATCH OPERATIONS
============================================================

------------------------------------------------------------
  Batch Create Cards
------------------------------------------------------------
ACTION Creating multiple cards...
SUCCESS!  Created 4 cards in batch
INFO  Batch card results: [
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axxpp2s',
    cid: 'bafyreictndogbakp55p5gjadg6kedniu7d2a3fdire7jhqwndhxneqpo4a'
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axxpq2s',
    cid: 'bafyreie6hfcp4yxuicpvospkgq2tcfc6fo2fbl3hv2crtufamrwg5iqt3m'
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axyoy2s',
    cid: 'bafyreicz5bmpwhxciakrlzw53vmbgxhag3k2b4dh275ljug3a66hdbrpry'
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3b22st2s',
    cid: 'bafyreieqygtl347olmu2l5ajtamxrm4letbra3ps5inw4pcqr3rps2ctsq'
  }
]

------------------------------------------------------------
  Batch Create Collections
------------------------------------------------------------
ACTION Creating multiple collections...
SUCCESS!  Created 2 collections in batch
INFO  Batch collections results: [
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3b473x2h',
    cid: 'bafyreibc6lfyc6uoobteuo3m57xloylsebk7kmaywitu6rw6yijfp4b4dq'
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3b473y2h',
    cid: 'bafyreibhlwhyofnqdlfllu2q3a6qzj6ovcjmtnjnbtzitpkwivztcebqdu'
  }
]

============================================================
  SECTION 4: FETCH CARDS & COLLECTIONS
============================================================

------------------------------------------------------------
  My PDS Records
------------------------------------------------------------
ACTION Fetching my top 50 cards...
SUCCESS!  Found 7 cards
INFO  details: [
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3b22st2s',
    cid: 'bafyreieqygtl347olmu2l5ajtamxrm4letbra3ps5inw4pcqr3rps2ctsq',
    value: {
      url: 'https://docs.bsky.app/docs/advanced-guides/firehose',
      type: 'NOTE',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:29.215Z',
      parentCard: [Object]
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axyoy2s',
    cid: 'bafyreicz5bmpwhxciakrlzw53vmbgxhag3k2b4dh275ljug3a66hdbrpry',
    value: {
      url: 'https://blog.bront.rodeo/30-days-of-atproto-hope-for-an-open-future/',
      type: 'URL',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:29.142Z',
      provenance: [Object]
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axxpq2s',
    cid: 'bafyreie6hfcp4yxuicpvospkgq2tcfc6fo2fbl3hv2crtufamrwg5iqt3m',
    value: {
      url: 'https://atproto.com/guides/account-lifecycle',
      type: 'URL',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:29.142Z'
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs3axxpp2s',
    cid: 'bafyreictndogbakp55p5gjadg6kedniu7d2a3fdire7jhqwndhxneqpo4a',
    value: {
      url: 'https://docs.bsky.app/docs/advanced-guides/firehose',
      type: 'URL',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:29.142Z'
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37twfh2s',
    cid: 'bafyreif76plcv3atebb53dm36vilfjmcjmiiw5xxbfcxfwfcfb7spln43m',
    value: {
      type: 'NOTE',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:28.023Z'
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37ryzk2n',
    cid: 'bafyreieotmnmti3wf6uegbzdgelvdtmcja4nmkosewumcftgtwuzarellm',
    value: {
      url: 'https://blog.bront.rodeo/setting-up-your-own-pds/',
      type: 'NOTE',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:27.816Z',
      parentCard: [Object]
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.card/3mecs37nhku2n',
    cid: 'bafyreic7swpkiio7dufsqfayzlqolzqmn7fhwdgapffynrsb65yon3kaj4',
    value: {
      url: 'https://blog.bront.rodeo/setting-up-your-own-pds/',
      type: 'URL',
      '$type': 'network.cosmik.dev.card',
      content: [Object],
      createdAt: '2026-02-08T01:33:27.555Z'
    }
  }
]
ACTION Fetching my collections...
SUCCESS!  Found 4 collections
INFO  details: [
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3b473y2h',
    cid: 'bafyreibhlwhyofnqdlfllu2q3a6qzj6ovcjmtnjnbtzitpkwivztcebqdu',
    value: {
      name: 'Fun arts things',
      '$type': 'network.cosmik.dev.collection',
      createdAt: '2026-02-08T01:33:29.285Z',
      updatedAt: '2026-02-08T01:33:29.285Z',
      accessType: 'CLOSED',
      collaborators: []
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3b473x2h',
    cid: 'bafyreibc6lfyc6uoobteuo3m57xloylsebk7kmaywitu6rw6yijfp4b4dq',
    value: {
      name: 'Artsy fartsy',
      '$type': 'network.cosmik.dev.collection',
      createdAt: '2026-02-08T01:33:29.285Z',
      updatedAt: '2026-02-08T01:33:29.285Z',
      accessType: 'CLOSED',
      description: 'artsy things',
      collaborators: []
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs3a5gcm2n',
    cid: 'bafyreibqvyz6q44cpd66aekpwho44pmlbg64vc77spsrbiafctkzkis6ly',
    value: {
      name: 'Gardening',
      '$type': 'network.cosmik.dev.collection',
      createdAt: '2026-02-08T01:33:28.345Z',
      updatedAt: '2026-02-08T01:33:28.345Z',
      accessType: 'CLOSED',
      description: 'Research for backyard garden in Canada',
      collaborators: []
    }
  },
  {
    uri: 'at://did:plc:3rygoykt7vjqwqwsldsla3f5/network.cosmik.dev.collection/3mecs37zmda2f',
    cid: 'bafyreicfryekpaxjec2mcxaa2r5efuosojg2itbsrzskjycrrgfcabyvg4',
    value: {
      name: 'atproto',
      '$type': 'network.cosmik.dev.collection',
      createdAt: '2026-02-08T01:33:28.145Z',
      updatedAt: '2026-02-08T01:33:28.145Z',
      accessType: 'CLOSED',
      description: 'everything atproto',
      collaborators: []
    }
  }
]

------------------------------------------------------------
  cosmiktesting.bsky.social PDS Records
------------------------------------------------------------
ACTION Fetching cosmiktesting's top 50 cards...
/Users/jasminezou/Documents/Projects/semble-test/node_modules/@atproto/xrpc/src/xrpc-client.ts:106
        throw new XRPCError(resCode, error, message, resHeaders)
              ^


XRPCError: Could not find repo: did:plc:rlknsba2qldjkicxsmni3vyn
    at AtpAgent.call (/Users/jasminezou/Documents/Projects/semble-test/node_modules/@atproto/xrpc/src/xrpc-client.ts:106:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async CardManager.getForUser (/Users/jasminezou/Documents/Projects/semble-test/node_modules/@cosmik.network/semble-pds-client/src/cards/CardManager.ts:213:22)
    at async <anonymous> (/Users/jasminezou/Documents/Projects/semble-test/semblePDSScript.tsx:215:25) {
  error: 'InvalidRequest',
  headers: {
    'access-control-allow-origin': '*',
    'content-length': '92',
    'content-type': 'application/json; charset=utf-8',
    date: 'Sun, 08 Feb 2026 01:33:29 GMT',
    etag: 'W/"5c-kW2D7jGNBfSizRdeFNz6A4sLQww"',
    'keep-alive': 'timeout=90',
    'ratelimit-limit': '3000',
    'ratelimit-policy': '3000;w=300',
    'ratelimit-remaining': '2984',
    'ratelimit-reset': '1770514707',
    'strict-transport-security': 'max-age=63072000',
    vary: 'Accept-Encoding',
    'x-powered-by': 'Express'
  },
  success: false,
  status: 400
}